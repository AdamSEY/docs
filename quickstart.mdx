---
title: "Quickstart"
description: "Get started with the Migma.ai API in under 5 minutes"
---

## Get Your API Key

First, you'll need to create a Migma.ai account and generate an API key:

<Steps>
  <Step title="Sign Up">
    Create an account at [migma.ai](https://migma.ai)
  </Step>
  <Step title="Navigate to Settings">
    Go to **Settings → API Integration → API Keys tab**
  </Step>
  <Step title="Create API Key">
    Click **Create API Key**, select permissions, and save your key securely
  </Step>
</Steps>

<Warning>
  Store your API key securely! It won't be shown again after creation. Treat it like a password.
</Warning>

## Import Your Brand

Before generating emails, you need to import your brand information:

```bash cURL
curl -X POST https://api.migma.ai/v1/projects/import \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "urls": ["https://yourbrand.com"],
    "name": "My Brand"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.migma.ai/v1/projects/import', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    urls: ['https://yourbrand.com'],
    name: 'My Brand'
  })
});

const data = await response.json();
console.log('Project ID:', data.data.projectId);
```

```python Python
import requests

response = requests.post(
    'https://api.migma.ai/v1/projects/import',
    headers={
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'urls': ['https://yourbrand.com'],
        'name': 'My Brand'
    }
)

data = response.json()
print(f"Project ID: {data['data']['projectId']}")
```

<Info>
  Brand import is asynchronous. Save the `projectId` and use it in subsequent requests. You can check the import status by polling the project endpoint or using webhooks.
</Info>

## Generate Your First Email

Once your brand is imported, generate an email:

```bash cURL
curl -X POST https://api.migma.ai/v1/projects/{projectId}/conversations \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Create a welcome email for new subscribers",
    "purpose": "welcome"
  }'
```

```javascript JavaScript
const response = await fetch(
  `https://api.migma.ai/v1/projects/${projectId}/conversations`,
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      prompt: 'Create a welcome email for new subscribers',
      purpose: 'welcome'
    })
  }
);

const data = await response.json();
console.log('Conversation ID:', data.data.conversationId);
```

```python Python
response = requests.post(
    f'https://api.migma.ai/v1/projects/{project_id}/conversations',
    headers={
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json={
        'prompt': 'Create a welcome email for new subscribers',
        'purpose': 'welcome'
    }
)

data = response.json()
print(f"Conversation ID: {data['data']['conversationId']}")
```

## Poll for Status

Email generation is asynchronous. Poll the status endpoint:

```javascript JavaScript
async function waitForGeneration(projectId, conversationId) {
  while (true) {
    const response = await fetch(
      `https://api.migma.ai/v1/projects/${projectId}/conversations/${conversationId}/status`,
      {
        headers: {
          'Authorization': 'Bearer YOUR_API_KEY'
        }
      }
    );

    const data = await response.json();
    const status = data.data.status;

    if (status === 'completed') {
      console.log('Email generated successfully!');
      return data.data;
    } else if (status === 'failed') {
      throw new Error('Generation failed');
    }

    // Wait 2 seconds before next poll
    await new Promise(resolve => setTimeout(resolve, 2000));
  }
}
```

<Tip>
  **Better approach**: Use [webhooks](/webhooks) to get notified when generation completes instead of polling!
</Tip>

## Get the Generated Email

Retrieve the generated email HTML:

```bash cURL
curl https://api.migma.ai/v1/projects/{projectId}/conversations/{conversationId} \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```javascript JavaScript
const response = await fetch(
  `https://api.migma.ai/v1/projects/${projectId}/conversations/${conversationId}`,
  {
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  }
);

const data = await response.json();
const emailHtml = data.data.messages[0].html;

console.log('Generated HTML:', emailHtml);
```

## Complete Example

Here's a complete workflow from import to email generation:

```javascript JavaScript
const MIGMA_API_KEY = 'your_api_key_here';
const BASE_URL = 'https://api.migma.ai';

async function generateEmail() {
  try {
    // 1. Import brand
    console.log('Importing brand...');
    const importRes = await fetch(`${BASE_URL}/v1/projects/import`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${MIGMA_API_KEY}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        urls: ['https://yourbrand.com'],
        name: 'My Brand'
      })
    });
    const importData = await importRes.json();
    const projectId = importData.data.projectId;
    console.log('Project created:', projectId);

    // 2. Wait for import to complete (simplified - use webhooks in production)
    await new Promise(resolve => setTimeout(resolve, 10000));

    // 3. Generate email
    console.log('Generating email...');
    const genRes = await fetch(
      `${BASE_URL}/v1/projects/${projectId}/conversations`,
      {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${MIGMA_API_KEY}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          prompt: 'Create a welcome email for new subscribers',
          purpose: 'welcome'
        })
      }
    );
    const genData = await genRes.json();
    const conversationId = genData.data.conversationId;
    console.log('Generation started:', conversationId);

    // 4. Poll for completion
    let completed = false;
    while (!completed) {
      await new Promise(resolve => setTimeout(resolve, 2000));

      const statusRes = await fetch(
        `${BASE_URL}/v1/projects/${projectId}/conversations/${conversationId}/status`,
        {
          headers: { 'Authorization': `Bearer ${MIGMA_API_KEY}` }
        }
      );
      const statusData = await statusRes.json();

      if (statusData.data.status === 'completed') {
        completed = true;
      } else if (statusData.data.status === 'failed') {
        throw new Error('Generation failed');
      }
    }

    // 5. Get the email
    const emailRes = await fetch(
      `${BASE_URL}/v1/projects/${projectId}/conversations/${conversationId}`,
      {
        headers: { 'Authorization': `Bearer ${MIGMA_API_KEY}` }
      }
    );
    const emailData = await emailRes.json();

    console.log('Email generated successfully!');
    return emailData.data.messages[0].html;

  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}

// Run it
generateEmail().then(html => {
  console.log('HTML:', html.substring(0, 200) + '...');
});
```

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Set Up Webhooks"
    icon="bolt"
    href="/webhooks"
  >
    Get real-time notifications instead of polling
  </Card>
  <Card
    title="Explore API Reference"
    icon="book"
    href="/api-reference/introduction"
  >
    Learn about all available endpoints
  </Card>
  <Card
    title="Manage Subscribers"
    icon="users"
    href="/api-reference"
  >
    Add and manage your email subscribers
  </Card>
  <Card
    title="Authentication Guide"
    icon="key"
    href="/authentication"
  >
    Learn about API keys and permissions
  </Card>
</CardGroup>

## Common Issues

<AccordionGroup>
  <Accordion title="401 Unauthorized">
    Check that your API key is correct and included in the `Authorization` header as `Bearer YOUR_API_KEY`
  </Accordion>

  <Accordion title="Import takes too long">
    Brand imports can take 30-60 seconds. Use webhooks to get notified when complete instead of polling.
  </Accordion>

  <Accordion title="Generation fails">
    Check the error message in the response. Common issues:
    - Invalid projectId (brand not imported yet)
    - Prompt is too vague or too long
    - Rate limit exceeded
  </Accordion>

  <Accordion title="HTML looks broken">
    The generated HTML is optimized for email clients. Test it in an actual email client or use a service like Litmus.
  </Accordion>
</AccordionGroup>